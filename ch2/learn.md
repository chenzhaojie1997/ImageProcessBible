# BMP
1. BMP图像格式偏移54个字节就是数据。其存储从下至上，从左至右，存放顺序是BGR  
# 插值
1. 双线性插值对于最邻近插值有质的飞越；双三次插值也比双线性插值优秀，但幅度相对而言没那么大；Lanczos插值比双三次插值稍优  
2. 双线性插值的本质是在一维上使用2个点的拉格朗日插值法。猜想在一维上使用4个点的拉格朗日插值法会不会更优  
   一个很好的问题。在一维上使用四个点的插值法，也就是用四个点拟合出一条三次曲线，使用这条三次曲线去进行插值。这实际上是双三次插值法的思想。这是现有的双三次插值方法都是此方法的一种近似。于是可以得到结论，会更优，优秀。
# 动态范围
1. 关于动态范围，相机物理上由感光元件的饱和电流和暗电流+读出噪声的比值决定。有些网上资料认为动态范围主要由读出噪声确定，我认为这是在确定某个具体的感光元件的情况下才成立。 
2. 对于某个确定的拍摄场景，其动态范围是场景内最高亮度和最低亮度的比值，这是第一个动态范围，也是场景的动态范围。对于某个确定的感光元件，其动态范围应该由其最高的饱和电流比上暗电流得到，这是第二个动态范围，也是感光元件的动态范围。这个动态范围约等于比特位数。在读出到RAW图后，除了暗电流，还会带来额外的读出噪声，此时饱和电流与暗电流、读出噪声的比值确定了其动态范围，这是第三个动态范围，也是RAW图，或者是相机的动态范围。这个动态范围略少于比特位数。 
3. 有一个意思的问题，为什么人眼的动态范围比相机的动态范围大得多？这里的主要原因是人眼的感知亮度和实际场景的亮度并不是线性关系。也就是随着实际场景亮度的改变，人眼会调节其增益，当场景亮度很大的时候，人眼感知亮度的增益会很小。如果把人眼的感知亮度写成纵轴，场景的实际亮度写成横轴，那么画出来的曲线就会是逐渐饱和的单调增曲线。因此人眼感知亮度并不是直接响应场景中的绝对亮度，而是通过增益控制将其反应限制在人眼系统能表达的范围内，因此，人眼的动态范围更大。 
# 分辨率
1. 看了123后，看到一个总结人眼视觉特性比较有意思的博客https://www.cnblogs.com/skyworks/p/4805216.html。1. 人眼是一个低通型线性系统，对太高的频率不太敏感。这是由于人眼自身有极限分辨角，60角秒（1度等于60分等于3600角秒）。2.人眼对亮度分辨率的敏感程度大于对色度分辨率的敏感程度，这可能是由于人眼生物细胞特性决定的。  
2. 分辨率。图像分辨率表示图像本身的大小。空间分辨率是图像中可辨别的最小细节的度量。通常在图像和光学中用每单位距离可以分辨的最大线对数量来表示。 
3. 类似的概念有光学中的MTF曲线，它通常用于比较光学系统的性能，其全称是调制传递函数，它表明了一个光学系统，在某个特定频率时，其输出与输入的比值。MTF是PSF的傅里叶变换，因为一个点光源的傅里叶谱是所有频率均匀的，经过光学系统后，不同频率有不同的衰减，也就组成了MTF曲线。 
# 伪轮廓
1. 书中提到在平坦区域量化等级不足会导致伪轮廓。这是一个很有意思的问题，回想到项目中常常用dither来回避四舍五入导致的伪轮廓。想想，四舍五入会导致某些区域呈现出特定的pattern，这一点本质上就是量化导致的伪轮廓。dither其实并没有增加量化等级，只是把原本的伪轮廓“打乱”，从而不会形成规律的pattern，减少视觉上的影响。 
2. 类似的伪轮廓及其原因有：过度锐化导致的白边；编码压缩导致的效应；对特高频进行低通滤波导致的振铃等。 
# 图像相乘
1. 想到的一个最经典的应用就是镜头阴影校正(Len Shading Correcting, LSC)。LSC的基本原理就是乘增益。但由于LSC强度对于每一帧都是一样的，所以可以预先存起来。这里会使用LUT，LUT里面存的是增益。 
2. 最理想的存LUT方式是每一个点都有一个增益，但是这样表会非常大。一般而言，增益有两种基本方式，一种是以某点为中心，同半径有同样的增益。这种方式有一些劣势：换了镜头镜头阴影中心会变，如果支持投影中心可配就会导致额外的计算量（计算平方带来的计算，这里的计算可能是比较大的，因为一般raw图比特数比较多）。其次就是表的大小会很大。后者缺点可以通过用“同心环”的方式解决，但是前者是很难解决的。另一种更灵活，应用得更多的方式就是划分方格，每个方格都有自己的增益。这种方式表大小可以通过方格大小控制，同时也可以解决换镜头就要换投影中心的弊端，因为增益可以事先计算，而不需要额外的计算量。如果想要更精细的增益，则可以通过顶点插值来获得。  
# 几何空间变换和图像配准
1. 这里由于项目会用到，所以其实非常熟悉了。对于传统的图像配准，基本就是特征点(角点,SIFT,ORB等)，匹配(金字塔光流等)，找affine或Homo矩阵(RANSAC或优化)三件套。对于使用网络进行配准，一般可以分为基于光流，和基于Homo方法两种。 
2. 个人观点，对于找纯粹单应性矩阵可以解决的问题都是比较确定的。这种情况下，特征点的运动有比较好的一致性，用RANSAC即可。但如果有前后景的区别可能要基于其他方法，例如优化或者网络方法。 